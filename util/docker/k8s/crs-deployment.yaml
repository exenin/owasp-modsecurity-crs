apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations:
    kompose.cmd: kompose convert
    kompose.version: 1.18.0 (06a2e56)
  creationTimestamp: null
  labels:
    io.kompose.service: crs
  name: crs
spec:
  replicas: 1
  strategy:
    type: Recreate
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: crs
    spec:
      containers:
      - env:
        - name: ANOMALYIN
          value: "5"
        - name: ANOMALYOUT
          value: "4"
        - name: PARANOIA
          value: "1"
        - name: PROXY
          value: "1"
        - name: RESTRICTED_EXTENSIONS
          value: .asa/ .asax/ .ascx/ .axd/ .backup/ .bak/ .bat/ .cdx/ .cer/ .cfg/
            .cmd/ .com/ .config/ .conf/ .cs/ .csproj/ .csr/ .dat/ .db/ .dbf/ .dll/
            .dos/ .htr/ .htw/ .ida/ .idc/ .idq/ .inc/ .ini/ .key/ .licx/ .lnk/ .log/
            .mdb/ .old/ .pass/ .pdb/ .pol/ .printer/ .pwd/ .resources/ .resx/ .sql/
            .sys/ .vb/ .vbs/ .vbproj/ .vsdisco/ .webinfo/ .xsd/ .xsx/
        - name: RESTRICTED_HEADERS
          value: /proxy/ /lock-token/ /content-range/ /if/
        - name: SERVERNAME
          value: localhost
        - name: STATIC_EXTENSIONS
          value: /.jpg/ /.jpeg/ /.png/ /.gif/ /.js/ /.css/ /.ico/ /.svg/ /.webp/
        image: us.gcr.io/bazaarlevel-220021/modsex-nginx:latest
        name: crs
        ports:
        - containerPort: 80
        - containerPort: 443
        resources: {}
        volumeMounts:
        - mountPath: /etc/modsecurity.d/owasp-crs/rules/REQUEST-900-EXCLUSION-RULES-BEFORE-CRS.conf
          name: crs-claim0
        - mountPath: /etc/modsecurity.d/owasp-crs/rules/RESPONSE-999-EXCLUSION-RULES-AFTER-CRS.conf
          name: crs-claim1
        - mountPath: /etc/nginx/conf.d/default.conf
          name: crs-claim2
        - mountPath: /etc/modsecurity.d/super_rules.conf
          name: crs-claim3
        - mountPath: /custom
          name: crs-claim4
      restartPolicy: Always
      volumes:
      - name: crs-claim0
        persistentVolumeClaim:
          claimName: crs-claim0
      - name: crs-claim1
        persistentVolumeClaim:
          claimName: crs-claim1
      - name: crs-claim2
        persistentVolumeClaim:
          claimName: crs-claim2
      - name: crs-claim3
        persistentVolumeClaim:
          claimName: crs-claim3
      - name: crs-claim4
        persistentVolumeClaim:
          claimName: crs-claim4
status: {}
